@import '../assets/styles/01-abstracts/abstracts.sass'

@keyframes pulse
  0%
    transform: scale(1)
    opacity: 1
  25%
    transform: scale(1)
    opacity: 1
  100%
    transform: scale(4.5)
    opacity: 0

@keyframes clap
  0%
    background-color: rgba($gold, .5)
    border-color: rgba($gold, 1)
  85%
    background-color: rgba($gold, 0)
    border-color: rgba($gold, 0)
  100%
    background-color: rgba($gold, 0)
    border-color: rgba($gold, 0)

@keyframes draw
  0%
    stroke-dashoffset: 1750
  85%
    stroke-dashoffset: 0
  100%
    stroke-dashoffset: 0

/* ----------------------------------------------
 * Generated by Animista on 2020-12-4 14:54:22
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */
@keyframes wobble
  0%
    transform: translateX(0%)
    transform-origin: 50% 50%
    background-color: rgba($danger, .5)
  15%
    transform: translateX(-30px) rotate(-6deg)
  30%
    transform: translateX(15px) rotate(6deg)
  45%
    transform: translateX(-15px) rotate(-3.6deg)
  60%
    transform: translateX(9px) rotate(2.4deg)
  75%
    transform: translateX(-6px) rotate(-1.2deg)
  100%
    transform: translateX(0%)
    transform-origin: 50% 50%
    background-color: rgba($danger, 0)

.page
  display: grid
  grid-template-columns: 100%

  +tablet
    grid-template-columns: 33% auto

.sidebar
  margin: 0 0 3rem 0
  padding: 2rem
  background-color: rgba($white, .5)
  clip-path: polygon(5% 0, 100% 0%, 95% 95%, 0 100%)

  *
    margin: 0
    padding: 0
  
  .refresh
    all: unset
    margin-bottom: .75rem
    color: $purple
    cursor: pointer
    font-size: .8em
    line-height: 1.4
    transition: all .2s ease

    &:hover
      background-color: $purple
      color: $white

  h3
    margin-bottom: .325rem
  
  ul
    list-style-type: none
  
  li
    padding: .375rem 0
    display: flex
    flex-direction: row
    align-items: center

    span
      display: inline-block
      margin-right: .5rem
      position: relative
      height: 10px
      width: 10px
      background: $maroon
      border-radius: 50%

      &:after
        content: ''
        position: absolute
        top: 2px
        left: 2px
        height: 6px
        width: 6px
        border-radius: 50%
        background: $maroon
        animation: pulse 2s infinite
        transform-origin: center center

    &:not(:last-of-type)
      border-bottom: 1px solid $purple
    
    &.finished
      text-decoration: line-through
    
    &.current
      color: $maroon


// .clapContainer
//   margin: auto

.counter
  display: block
  margin: 0 auto
  text-align: center
  color: $maroon

.clapper
  all: unset
  position: relative
  display: block
  border: 5px solid transparent
  padding: 2rem
  border-radius: 50%
  max-width: 8em
  cursor: pointer
  transition: all .2s ease
  margin: 1rem auto 0

  // +tablet
  //   margin: 0

  *
    margin: 0
  
  svg, img
    display: block
    width: 8em
    height: 8em
  
  &:before
    content: " "
    position: absolute
    border-radius: 50%
    z-index: -1
    top: 5px
    left: 5px
    right: 5px
    bottom: 5px
    border: 3px solid $main
    transition: border-color .2s ease
  
  &:not(.maxedOut):hover
    background-color: $white

    &:before
      border-color: transparent
  
  &.isClapped
    animation: clap .825s linear alternate

    svg
      stroke-dasharray: 1750
      stroke-dashoffset: 1750
      animation: draw .5s linear forwards

    &:before
      border-color: transparent
  
  &.isWobbling
    animation: wobble .825s both
