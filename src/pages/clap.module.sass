@import '../assets/styles/01-abstracts/abstracts.sass'

@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

@keyframes pulse
  0%
    transform: scale(1)
    opacity: 1
  25%
    transform: scale(1)
    opacity: 1
  100%
    transform: scale(4.5)
    opacity: 0

/* ----------------------------------------------
 * Originally generated by Animista on 2020-12-4 22:13:42
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */
@keyframes pulsate
  from
    transform: scale(1)
    transform-origin: center center
    animation-timing-function: ease-out
  10%
    transform: scale(1.06)
    animation-timing-function: ease-in
  17%
    transform: scale(1.01)
    animation-timing-function: ease-out
  33%
    transform: scale(1.09)
    animation-timing-function: ease-in
  45%
    transform: scale(1)
    animation-timing-function: ease-out

@keyframes clap
  0%
    background-color: rgba($gold, .5)
    border-color: rgba($gold, 1)
    transform: scale(1)
  50%
    transform: scale(1.1)
  85%
    background-color: rgba($gold, 0)
    border-color: rgba($gold, 0)
  100%
    background-color: rgba($gold, 0)
    border-color: rgba($gold, 0)
    transform: scale(1)

@keyframes draw
  0%
    stroke-dashoffset: 1750
  85%
    stroke-dashoffset: 0
  100%
    stroke-dashoffset: 0

/* ----------------------------------------------
 * Originally generated by Animista on 2020-12-4 14:54:22
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */
@keyframes wobble
  0%
    transform: translateX(0%)
    transform-origin: 50% 50%
    background-color: rgba($danger, .5)
  15%
    transform: translateX(-30px) rotate(-6deg)
  30%
    transform: translateX(15px) rotate(6deg)
  45%
    transform: translateX(-15px) rotate(-3.6deg)
  60%
    transform: translateX(9px) rotate(2.4deg)
  75%
    transform: translateX(-6px) rotate(-1.2deg)
  100%
    transform: translateX(0%)
    transform-origin: 50% 50%
    background-color: rgba($danger, 0)

.page
  display: grid
  grid-template-columns: 100%
  grid-row-gap: 3rem

  +tablet
    grid-template-columns: 33% auto
    align-items: center
    justify-items: normal

.sidebar
  margin: 0
  padding: 1.25rem 2rem 2rem
  background-color: rgba($white, .5)
  clip-path: polygon(5% 0, 100% 0%, 95% 95%, 0 100%)

  *
    margin: 0
    padding: 0
  
  .refresh
    all: unset
    margin-bottom: .75rem
    color: $purple
    cursor: pointer
    font-size: .8em
    line-height: 1.4
    transition: all .2s ease

    &:not(:disabled):hover
      background-color: $purple
      color: $white
    
    &:disabled
      cursor: not-allowed

  h3
    margin-bottom: .325rem
  
  ul
    list-style-type: none
  
  li
    padding: .375rem 0

    .line1
      display: flex
      flex-direction: row
      align-items: center
    
    .line2
      margin: 0 0 .25rem calc(10px + .55rem)
      font-size: .75em
      line-height: 1.1
      color: $purple

    .pulse
      display: inline-block
      margin-right: .55rem
      position: relative
      height: 10px
      width: 10px
      background: $maroon
      border-radius: 50%

      &:after
        content: ''
        position: absolute
        top: 2px
        left: 2px
        height: 6px
        width: 6px
        border-radius: 50%
        background: $maroon
        animation: pulse 2s infinite
        transform-origin: center center

    &:not(:last-of-type)
      border-bottom: 1px solid $purple
    
    &.finished
      text-decoration: line-through
      opacity: .5
    
    &.current
      color: $maroon

.feedback
  margin: 0 auto 2rem
  max-width: 450px
  text-align: center
  
  label
    display: block
    margin: 0 auto
  
  input
    margin-top: .25rem
    border-radius: 0
    border: none
    border-bottom: 2px solid $gold
    background-color: $white
    padding: .5rem 1.5rem
    clip-path: polygon(2.5% 0, 100% 0%, 97.5% 97.5%, 0 100%)
    animation: fadeIn .5s ease-out forwards
    transition: border-color .15s ease

    &:focus
      border-bottom-color: $maroon
  
  .error
    color: $purple
  
  button[type="submit"]
    animation: fadeIn .5s ease-out forwards

.counter
  display: block
  margin: 0 auto
  text-align: center
  color: $maroon

.clapper
  all: unset
  position: relative
  display: block
  border: 5px solid transparent
  padding: 2rem
  border-radius: 50%
  max-width: 8em
  cursor: pointer
  transition: all .2s ease
  margin: 1rem auto 0
  animation: pulsate 2.5s 2s ease-in-out infinite both

  *
    margin: 0
  
  svg, img
    display: block
    width: 8em
    height: 8em
  
  &:disabled
    cursor: not-allowed
  
  &:before
    content: " "
    position: absolute
    border-radius: 50%
    z-index: -1
    top: 5px
    left: 5px
    right: 5px
    bottom: 5px
    border: 3px solid $white
    transition: border-color .2s ease
  
  &:not(.maxedOut):not(:disabled):hover
    background-color: $white

    &:before
      border-color: transparent
  
  &.isClapped
    animation: clap 1.5s linear alternate

    svg
      stroke-dasharray: 1750
      stroke-dashoffset: 1750
      animation: draw .5s linear forwards

    &:before
      border-color: transparent
  
  &.isWobbling
    animation: wobble 1s both
